<!DOCTYPE html><html><head><title>PopupwindowFilter</title><meta charset='utf-8'><link href='https://cdn.maxiang.io/res-min/themes/marxico.css' rel='stylesheet'><style>
.note-content  {font-family: "Helvetica Neue", Arial, "Hiragino Sans GB", STHeiti, "Microsoft YaHei", "WenQuanYi Micro Hei", SimSun, Song, sans-serif;}

</style></head><body><div id='preview-contents' class='note-content'>
                        
                    

<h3 id="popupwindowfilter">PopupwindowFilter</h3>

<p><a href="https://www.lanzous.com/i7mn71a" target="_blank"><img longdesc="https://img.shields.io/badge/DownloadApp-2.1M-ff69b4.svg" alt="Download" title="" type="image/jpeg" src="data:image/jpeg;base64,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" class=""> </a></p>

<p><br><br></p>

<h4 id="基于popupwindow的下拉筛选控件">基于Popupwindow的下拉筛选控件</h4>

<hr>

<blockquote>
  <p>支持区域二级联动选择 <br>
  支持单行List样式选择 <br>
  支持带EditText的单行选择 <br>
  支持多类型选择 <br>
  支持Grid样式多选</p>
</blockquote>

<p><br></p>

<table><tbody><tr style="font-weight:bold">  <td>功能</td>  <td>区分</td></tr><tr>  <td>支持区域二级联动选择</td>  <td>FilterTabConfig.FILTER_TYPE_AREA</td></tr><tr>  <td>支持单行List样式选择</td>  <td>FilterTabConfig.FILTER_TYPE_SINGLE_SELECT</td></tr><tr>  <td>支持带EditText的单行选择</td>  <td>FilterTabConfig.FILTER_TYPE_PRICE</td></tr><tr>  <td>支持多类型选择</td>  <td>FilterTabConfig.FILTER_TYPE_MUL_SELECT</td></tr><tr>  <td>支持Grid样式多选</td>  <td>FilterTabConfig.FILTER_TYPE_SINGLE_GIRD</td></tr></tbody></table>

<ul><li><p>目前只支持以上5种类型的Popupwindow样式，可以自由组合</p></li>
</ul>

<p><br><br></p>

<h3 id="如何使用">如何使用</h3>

<h4 id="gradle">Gradle</h4>

<hr>

<p><br><br></p>

<ul><li><p>Add it in your root build.gradle at the end of repositories:</p></li>
</ul>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span>allprojects {
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>        repositories {
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>            ...
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>            maven { url <span class="hljs-string">'https://jitpack.io'</span> }
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>        }
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>    }
</div></code></pre>

<p><br><br></p>

<ul><li><p>Add the dependency</p></li>
</ul>

<pre class="prettyprint with-line-number hljs-dark"><code class="hljs nginx"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-section">dependencies</span> {        
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>    <span class="hljs-attribute">implementation</span> <span class="hljs-string">'com.github.ltym2016:FilterTabView:1.1.5'</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>}
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span><wbr>
</div></code></pre>

<p><br><br></p>

<h4 id="maven">Maven</h4>

<hr>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span>&lt;repositories&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>        &lt;repository&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>            &lt;id&gt;jitpack.io&lt;/id&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>            &lt;url&gt;https:<span class="hljs-comment">//jitpack.io&lt;/url&gt;</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>        &lt;/repository&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>    &lt;/repositories&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span><wbr>
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span>    &lt;dependency&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span>            &lt;groupId&gt;com.github.ltym2016&lt;/groupId&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span>            &lt;artifactId&gt;FilterTabView&lt;/artifactId&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span>            &lt;version&gt;<span class="hljs-number">1.1</span>.5&lt;/version&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span>   &lt;/dependency&gt;
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span><wbr>
</div></code></pre>

<p><br><br></p>

<h4 id="xml">XML</h4>

<hr>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><wbr>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>&lt;com.samluys.filtertab.FilterTabView
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>    android:id=<span class="hljs-string">"@+id/ftb_filter"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>    android:layout_width=<span class="hljs-string">"match_parent"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>    android:layout_height=<span class="hljs-string">"@dimen/tool_bar"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>    android:background=<span class="hljs-string">"@color/white"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span>    app:btn_solid_select_color=<span class="hljs-string">"@color/color_e3ecf6"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span>    app:btn_solid_unselect_color=<span class="hljs-string">"@color/color_f5f5f6"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span>    app:btn_corner_radius=<span class="hljs-string">"24dp"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span>    app:btn_text_select_color=<span class="hljs-string">"@color/color_222222"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span>    app:btn_text_unselect_color=<span class="hljs-string">"@color/color_222222"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span>    app:tab_text_style=<span class="hljs-string">"1"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span>    app:column_num=<span class="hljs-string">"3"</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">14.</span>    app:color_main=<span class="hljs-string">"#60dd6c"</span>/&gt;
</div></code></pre>

<p><br></p>

<table><tbody><tr style="font-weight:bold">  <td>自定义属性</td>  <td>说明</td></tr><tr>  <td>tab_arrow_select_color</td>  <td>筛选Tab选择的图片</td></tr><tr>  <td>tab_arrow_unselect_color</td>  <td>筛选Tab选择的图片</td></tr><tr>  <td>tab_text_style</td>  <td>选中状态是否为粗体 0为否 1为是 默认为0</td></tr><tr>  <td>color_main</td>  <td>主题色</td></tr><tr>  <td>btn_stroke_select_color</td>  <td>选中button边框颜色</td></tr><tr>  <td>btn_stroke_unselect_color</td>  <td>未选中button边框颜色</td></tr><tr>  <td>btn_solid_select_color</td>  <td>选中button填充颜色</td></tr><tr>  <td>btn_solid_unselect_color</td>  <td>未选中button填充颜色</td></tr><tr>  <td>btn_corner_radius</td>  <td>button圆角大小</td></tr><tr>  <td>btn_text_select_color</td>  <td>选中字体颜色</td></tr><tr>  <td>btn_text_unselect_color</td>  <td>未选中字体颜色</td></tr><tr>  <td>column_num</td>  <td>grid样式下的列数</td></tr></tbody></table>

<p><br><br></p>

<h4 id="java">Java</h4>

<hr>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><wbr>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>FilterInfoBean bean1 = <span class="hljs-keyword">new</span> FilterInfoBean(<span class="hljs-string">"区域"</span>, FilterTabConfig.FILTER_TYPE_AREA, filterEntity.getArea());
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>FilterInfoBean bean2 = <span class="hljs-keyword">new</span> FilterInfoBean(<span class="hljs-string">"总价"</span>, FilterTabConfig.FILTER_TYPE_PRICE, filterEntity.getPrice());
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>FilterInfoBean bean3 = <span class="hljs-keyword">new</span> FilterInfoBean(<span class="hljs-string">"户型"</span>, FilterTabConfig.FILTER_TYPE_SINGLE_SELECT, filterEntity.getHouseType());
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>FilterInfoBean bean4 = <span class="hljs-keyword">new</span> FilterInfoBean(<span class="hljs-string">"筛选"</span>, FilterTabConfig.FILTER_TYPE_MUL_SELECT, filterEntity.getMulSelect());
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span><wbr>
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span>ftb_filter.addFilterItem(bean1.getTabName(), bean1.getFilterData(), bean1.getPopupType(), <span class="hljs-number">0</span>);
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span>ftb_filter.addFilterItem(bean2.getTabName(), bean2.getFilterData(), bean2.getPopupType(), <span class="hljs-number">1</span>);
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span>ftb_filter.addFilterItem(bean3.getTabName(), bean3.getFilterData(), bean3.getPopupType(), <span class="hljs-number">2</span>);
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span>ftb_filter.addFilterItem(bean4.getTabName(), bean4.getFilterData(), bean4.getPopupType(), <span class="hljs-number">3</span>);
</div></code></pre>

<p><br><br></p>

<ul><li><p>javabean 要继承 BaseFilterBean，重写里面的方法</p></li>
</ul>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FilterAreaEntity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseFilterBean</span> </span>{
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>    ....
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>}
</div></code></pre>

<p><br><br></p>

<ul><li><p>需要用到的Activity或者fragment里面实现OnSelectResultListener这个接口</p></li>
</ul>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><wbr>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>ftb_filter.setOnSelectResultListener(<span class="hljs-keyword">new</span> OnSelectResultListener(){
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>    <span class="hljs-meta">@Override</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSelectResult</span><span class="hljs-params">(FilterResultBean resultBean)</span> </span>{
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>        <span class="hljs-comment">// 接受点击的返回值</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>    }
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span>});
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span><wbr>
</div></code></pre>

<p><br><br></p>

<ul><li><p>控件调用之前最好初始化一下，避免加载失败重新加载数据是出现重复的问题。</p></li>
</ul>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span>ftb_filter.removeViews();
</div></code></pre>

<p><br><br></p>

<ul><li><p>OnSelectFilterNameListener  实现这个接口可以拿到选择后对应的Tab名称</p></li>
</ul>

<hr>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-java hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span>ftb_filter.setOnSelectFilterNameListener(<span class="hljs-keyword">new</span> OnSelectFilterNameListener() {
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>    <span class="hljs-meta">@Override</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSelectFilterName</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> popupindex)</span> </span>{
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>        <span class="hljs-comment">// name：tab名称  popupindex：对应的popup的位置</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>    }
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>});
</div></code></pre>

<p><br><br></p>

<ul><li><p>OnPopupDismissListener  Popupwindow消失监听</p></li>
</ul>

<p><br><br></p>

<h4 id="来源">来源</h4>

<hr>

<p>[resource] <a href="https://github.com/maiduoduo/PopupwindowFilter" target="_blank">https://github.com/maiduoduo/PopupwindowFilter</a></p>

<p><br><br></p></div></body></html>